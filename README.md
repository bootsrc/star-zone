# ç¤¾äº¤Appç³»ç»Ÿæ¶æ„-æ˜Ÿåº§ç©ºé—´

Androidå®¢æˆ·ç«¯[https://github.com/liushaoming/star-zone-android](https://github.com/liushaoming/star-zone-android)


ç›®å‰ç¤¾äº¤ç±»åº”ç”¨æœ‰Appï¼Œå°ç¨‹åºï¼Œç½‘ç«™ï¼Œå¾®ä¿¡å…¬ä¼—å·ç­‰ï¼Œå…¶ä¸­æœ€æ™®éæœ‰æ•ˆçš„å®¢æˆ·ç«¯è¿˜æ˜¯Appã€‚
æœ¬äººåˆ©ç”¨ç©ºä½™æ—¶é—´å¼€å‘äº†ä¸€æ¬¾Androidç‰ˆApp--æ˜Ÿåº§ç©ºé—´ï¼ˆè‹±æ–‡åstar-zoneï¼‰
<br/>
<b>å¦‚æœè¯¥é¡¹ç›®å¯¹æ‚¨æœ‰å¸®å¿™ï¼Œæ‚¨å¯ä»¥å³ä¸Šè§’'star'æ”¯æŒä¸€ä¸‹ï¼Œè°¢è°¢ï¼</b>
<br/>
æºç åœ¨å¼€æºåˆ°äº†githubä¸Š[https://github.com/liushaoming/star-zone](https://github.com/liushaoming/star-zone)
Androidå®¢æˆ·ç«¯[https://github.com/liushaoming/star-zone-android](https://github.com/liushaoming/star-zone-android)
<br/>

![æ˜Ÿåº§ç©ºé—´å›¾æ ‡](doc/image/ic_launcher.png)

 [ğŸš€ç‚¹æˆ‘--ä¸‹è½½Androidå®¢æˆ·ç«¯](http://resources.appjishu.com/app/star-zone.apk)
<br/>
å¤§å®¶å¯ä»¥ä¸‹è½½åç”¨ä¸‹ç”¨ç”¨çœ‹ã€‚

## ä»£ç åˆ†æ
* [star-zone-back &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Javaåå°](/star-zone-back)

* [star-zone-common &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; å…¬å…±ç±»åº“](/star-zone-common)

* [star-zone-manage &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ç®¡ç†é¡µé¢é™æ€é¡¹ç›®(åšäº†å‰åç«¯åˆ†ç¦»)](/star-zone-manage)

* [star-zone-android &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Androidå®¢æˆ·ç«¯](https://github.com/liushaoming/star-zone-android)

## æŠ€æœ¯é€‰å‹
ä¸‹é¢åˆ—ä¸¾æŠ€æœ¯æ ˆï¼Œå¹¶è¯´æ˜é€‰æ‹©çš„åŸå› :
è½¯ä»¶åˆ†ä¸ºä»¥ä¸‹å‡ å—ï¼šï¼ˆå…¨éƒ¨éƒ½æ˜¯æˆ‘ä¸€ä¸ªäººå¼€å‘çš„ï¼Œå¾ˆè¾›è‹¦çš„^_^ï¼Œå…¨æ ˆå·¥ç¨‹å¸ˆ+æ¶æ„å¸ˆï¼‰
1.Android
é‡‡ç”¨åŸç”ŸAndroidå¼€å‘

å¾ˆå¤šäººä»¥ä¸ºç”¨React Nativeå¼€å‘Appå°±ä¸éœ€è¦å¤„ç†å…¼å®¹æ€§é—®é¢˜ã€‚å…¶å®ä½¿ç”¨React Nativeå¼€å‘ï¼Œä¹Ÿä¼šé‡åˆ°ç±»ä¼¼äºåŸç”Ÿå¼€å‘é‡Œçš„gradle jaråŒ…ä¾èµ–çš„å†²çªçš„é—®é¢˜ã€‚ è€Œä¸”ï¼Œæ¯”å¦‚éœ€è¦ç”¨åˆ°ä¸€äº›ç¬¬ä¸‰æ–¹å‚å•†çš„ç¡¬ä»¶é©±åŠ¨ç¨‹åºjniç­‰ï¼Œæˆ–è€…åŸç”Ÿandroidçš„åº“ã€‚ è¿™ç§æƒ…å†µä¸‹React Nativeæ¥è°ƒç”¨è¿™äº›åº“ï¼Œå°±å¼‚å¸¸è‰°éš¾ã€‚ä»¥å›½é™…å¤§å‚Airbnbä¸ºä¾‹ï¼Œè¯¥å…¬å¸æ›¾æ˜¯æ¯”è¾ƒæ—©é‡‡ç”¨React Nativeæ¥åœ¨ç”Ÿäº§ç¯å¢ƒå¼€å‘Appçš„å…¬å¸ï¼ŒæåŠ›æ¨è¿›React Nativeã€‚ç»“æœåæ¥è¿˜æ˜¯æ”¾å¼ƒäº†ã€‚
Airbnb åœ¨ Medium ä¸Šå‘åšæ–‡å®£å¸ƒï¼Œâ€œç”±äºè®¸å¤šæŠ€æœ¯ä¸Šå’Œç»„ç»‡ä¸Šçš„é—®é¢˜ï¼Œæˆ‘ä»¬å†³å®šæ”¾å¼ƒ React Nativeï¼Œå°†æ‰€æœ‰ç²¾åŠ›æŠ•å…¥åˆ°åŸç”Ÿåº”ç”¨ä¸Šã€‚â€
å¦å¤–ä¸€ä¸ªåŸå› ï¼šæˆ‘æ˜¯ä¸€ä¸ªJavaæ¶æ„å¸ˆï¼Œå¯¹Javaè¯­è¨€æ¯”è¾ƒç†Ÿæ‚‰ï¼Œä¹Ÿä¼šAndroidå¼€å‘ï¼Œäºæ˜¯å°±é‡‡ç”¨äº†åŸç”Ÿå¼€å‘

2.åå°æœåŠ¡
åŸºäºJavaï¼ŒSpring Boot, Spring Cloud
æ•°æ®åº“MySQL
ç¼“å­˜Redis

3.åå°ç®¡ç†ç½‘ç«™ï¼ˆçº¯é™æ€ç½‘ç«™ï¼‰
åšäº†å‰åç«¯åˆ†ç¦»ï¼ŒåŠ¨æ€å’Œé™æ€åˆ†ç¦»ï¼Œé™æ€ç½‘ç«™æ”¾åœ¨nginxä¸Šï¼Œå¯ä»¥åº”å¯¹é«˜å¹¶å‘è®¿é—®
å‰ç«¯ä½¿ç”¨ES6è¯­æ³•ï¼Œ
æ¡†æ¶é‡‡ç”¨vue.js,
æ’ä»¶ä½¿ç”¨babel, 
æ ·å¼ä½¿ç”¨element-ui

4.Appçš„æ¨å¹¿å®˜ç½‘ï¼ˆçº¯é™æ€ç½‘ç«™ï¼‰
åšäº†å‰åç«¯åˆ†ç¦»ï¼ŒåŠ¨æ€å’Œé™æ€åˆ†ç¦»ï¼Œé™æ€ç½‘ç«™æ”¾åœ¨nginxä¸Šï¼Œå¯ä»¥åº”å¯¹é«˜å¹¶å‘è®¿é—®

##  æ€»ä½“æ¶æ„

1. åå°æ€»ä½“æ¶æ„
Androidé€šè¿‡ç½‘ç»œï¼Œåˆ°è¾¾æœåŠ¡å™¨åï¼Œç»è¿‡nginxåå‘ä»£ç†åˆ°åå°æœåŠ¡ã€‚
è°ƒç”¨åå°æ¥å£çš„æ—¶å€™ï¼Œ ä¸€éƒ¨åˆ†æ¥å£æ˜¯è¿›è¡Œäº†æƒé™éªŒè¯çš„ï¼Œæƒé™éªŒè¯ä½¿ç”¨userId+token
å‚è€ƒæˆ‘çš„å¦å¤–ä¸€ä¸ªæ¡†æ¶[fpassport](https://github.com/liushaoming/fpassport)
<br/> ç‚¹å‡»åå¯ä»¥è®¿é—®github <br/>
å…¶ä¸­ä½¿ç”¨äº†Rediså­˜æ”¾userIdå’Œtokençš„å¯¹åº”å…³ç³»ã€‚æé«˜äº†ç³»ç»Ÿçš„å“åº”é€Ÿåº¦ã€‚
ç”±äºappé‡Œåé¢ä¼šåŠ ä¸Šç”µå•†åŠŸèƒ½ï¼Œå¯¹äºä¸‹å•åŠŸèƒ½ã€‚è®¢å•æ•°é‡æ˜¯å•†å“æ•°é‡çš„å¾ˆå¤šå€ã€‚
é‡‡ç”¨äº†åˆ†è¡¨çš„æ¶æ„ã€‚åˆ†è¡¨åŸç†é‡‡ç”¨ä¸€è‡´æ€§Hashã€‚

2. å¾®æœåŠ¡é‡‡ç”¨äº†Spring Cloud
Spring Cloudæ˜¯é‡‡ç”¨HTTPåè®®ï¼Œ Dubboé‡‡ç”¨RPCæ–¹æ¡ˆï¼Œé‡‡ç”¨TCPåè®®é€šä¿¡ã€‚
æ€§èƒ½æ–¹é¢Spring Cloudç•¥å·®ä¸€ç‚¹ã€‚ ä½†æ˜¯å½±å“ä¸å¤§ã€‚ä¸¤ç§æ¡†æ¶å„æœ‰åˆ©å¼Šã€‚æˆ‘é‡‡ç”¨äº†è‡ªå·±ç†Ÿæ‚‰çš„Spring Cloud

3. æ•°æ®åº“åˆ†è¡¨æ“ä½œ
åŸºäºä¸€è‡´æ€§hashï¼Œè§githubæºç 

4. å‰åç«¯åˆ†ç¦»ï¼ŒåŠ¨é™åˆ†ç¦»
JavaåŠ¨æ€ç½‘ç«™æ¯”è¾ƒåƒå†…å­˜ï¼Œæ“ä½œç³»ç»Ÿå…è®¸çš„çº¿ç¨‹æ•°ä¹Ÿæ˜¯ä¸€å®šçš„ã€‚ æœ€å¤šå‡ åƒä¸ªçº¿ç¨‹ã€‚
è€Œä¸”ä¸€ä¸ªçº¿ç¨‹ä¸€èˆ¬å°±è¦å ç”¨512KBçš„å†…å­˜ã€‚ å…‰è¿™äº›HTTPè¿æ¥å°±è‡³å°‘å ç”¨1Gå†…å­˜ã€‚
è¿˜æœ‰å…¶ä»–çš„CPUè®¡ç®—ï¼Œä¹Ÿè¦å ç”¨1Gä»¥ä¸Šçš„å†…å­˜ã€‚ 

åŠ¨é™åˆ†ç¦»åã€‚ é¡µé¢çš„æ¯æ¬¡è¯·æ±‚ä¸éœ€è¦ç»è¿‡åç«¯æ¸²æŸ“ï¼Œå‡å°‘äº†Java Httpè¿æ¥æ•°ï¼Œå‡å°äº†å†…å­˜å¼€é”€ã€‚
nginxéƒ¨ç½²é™æ€ç½‘ç«™åã€‚ä¸åšä¼˜åŒ–ï¼Œnginxæœ¬èº«å°±èƒ½æ‰¿å—ä¸Šä¸‡ä¸ªå¹¶å‘è¿æ¥ï¼Œå¾ˆé€‚åˆåšé™æ€èµ„æºçš„æœåŠ¡ã€‚

5. æ¨é€æœåŠ¡,å³æ—¶é€šè®¯
ä½¿ç”¨äº†å°ç±³çš„æ¨é€æœåŠ¡ï¼Œæˆ‘è‡ªå·±ä¹Ÿè‡ªä¸»ç ”å‘äº†ä¸€ä¸ªæ¨é€æœåŠ¡åŸºäºnettyï¼Œé¡¹ç›®åœ°å€
[ttps://github.com/liushaoming/fpush](https://github.com/liushaoming/fpush)

5.å‰ç«¯æ–¹æ¡ˆ
vueï¼ŒåŒå‘æ•°æ®ç»‘å®šï¼Œæé«˜ç¼–ç¨‹æ•ˆç‡ã€‚
element-uiç•Œé¢ç®€æ´ï¼Œä½¿ç”¨ç®€å•ï¼Œé€‚åˆåå°ç®¡ç†ç³»ç»Ÿå¼€å‘ï¼Œè·Ÿvueç»“åˆæœ‰å¤©ç„¶çš„ä¾¿åˆ©ã€‚
æœ‰é¥¿äº†ä¹ˆå…¬å¸å¼ºå¤§åç›¾ã€‚
ä½¿ç”¨es6æˆ–è€…jséƒ½è¡Œã€‚

ä¸Šç­æ¯”è¾ƒå¿™ã€‚æš‚æ—¶å†™è¿™ä¹ˆå¤šã€‚
æœ¬æ–‡åé¢è¿˜ä¼šç»§ç»­ç¼–è¾‘æ›´æ–°ã€‚æŠŠæ›´å¤šå†…å®¹åˆ†äº«ç»™å¤§å®¶ã€‚

é¡¹ç›®åœ°å€æ˜¯[æ˜Ÿåº§ç©ºé—´App](http://resources.appjishu.com/app/star-zone.apk)

æºç åœ¨å¼€æºåˆ°äº†githubä¸Š[https://github.com/liushaoming/star-zone](https://github.com/liushaoming/star-zone)
Androidå®¢æˆ·ç«¯[https://github.com/liushaoming/star-zone-android](https://github.com/liushaoming/star-zone-android)
<br/>
<b>å¦‚æœè¯¥é¡¹ç›®å¯¹æ‚¨æœ‰å¸®å¿™ï¼Œæ‚¨å¯ä»¥å³ä¸Šè§’'star'æ”¯æŒä¸€ä¸‹ï¼Œè°¢è°¢ï¼</b>
<br/>

## å°ç±³æ¨é€çš„jaråŒ… ä¸ºä»€ä¹ˆmavenç¼–è¯‘çš„æ—¶å€™ä¼šæ‰¾ä¸åˆ°?

æ¯”å¦‚ä¸‹é¢ä¸¤ä¸ªjar MiPush-Server.jar, MiPush-json-simple.jarä¾èµ–ä¼šæ‰¾ä¸åˆ°

```xml
<dependency>
    <groupId>com.xiaomi</groupId>
    <artifactId>MiPush-Server</artifactId>
    <version>2.2.19</version>
</dependency>
<dependency>
    <groupId>com.xiaomi</groupId>
    <artifactId>MiPush-json-simple</artifactId>
    <version>1.1.1</version>
</dependency>
```

è§£å†³åŠæ³•ï¼š

è¿™ä¸ªæ˜¯éœ€è¦æœ¬åœ°jar instalåˆ°æœ¬åœ°mavenä»“åº“çš„ã€‚å…·ä½“æ“ä½œå¦‚ä¸‹
```text
æ·»åŠ æœ¬åœ°jaråˆ°maven springbooté¡¹ç›®ä¸­

mavené¡¹ç›®ä¸­ï¼Œå¦‚æœæƒ³å¼•ç”¨ç¬¬ä¸‰æ–¹æä¾›çš„ï¼Œæˆ–è€…è‡ªå·±çš„æœ¬åœ°jaråŒ…ã€‚  æ˜¯éå¸¸å›°éš¾çš„äº‹æƒ…ã€‚

å› ä¸ºè¿™äº›jaræ²¡æœ‰groupIdï¼Œ artifactIdï¼Œ mavenå‘½ä»¤æ‰“åŒ…æ— æ³•å¼•ç”¨ã€‚
è§£å†³æ€è·¯ï¼š
ç”¨mvn install:install-fileå‘½ä»¤æŠŠæœ¬åœ°çš„jarå®‰è£…åˆ°local maven repositoryã€‚ ç„¶åå°±å¯ä»¥åœ¨pomé‡Œåƒæ™®é€šçš„mavenå¼•ç”¨æ¥å¼•ç”¨è¿™ä¸ªjaräº†
å®ä¾‹å¦‚ä¸‹ï¼š

step1 é¦–å…ˆæŠŠæœ¬åœ°çš„jaréƒ½æ”¾åˆ°é¡¹ç›®æ ¹è·¯å¾„ä¸‹æ–°å»ºçš„libä¸­å»

step2ï¼Œå‘½ä»¤è¡Œè¿›å…¥libè·¯å¾„

mvn install:install-file -DgroupId=com.xiaomi -DartifactId=MiPush-Server -Dversion=2.2.19 -Dpackaging=jar -Dfile=MiPush-Server-2.2.19.jar

mvn install:install-file -DgroupId=com.xiaomi -DartifactId=MiPush-json-simple -Dversion=1.1.1 -Dpackaging=jar -Dfile=MiPush-json-simple-1.1.1.jar


è¿™è¿™ä¸¤ä¸ªjaråŒ…éƒ½installåˆ°local repositoryäº†ã€‚ 
ç„¶åï¼Œåœ¨è‡ªå·±çš„springbooté¡¹ç›®é‡Œã€‚ å°±å¯ä»¥ç›´æ¥æ·»åŠ dependencyå°±å¯ä»¥äº† 

<dependency>
    <groupId>com.xiaomi</groupId>
    <artifactId>MiPush-Server</artifactId>
    <version>2.2.19</version>
</dependency>
<dependency>
    <groupId>com.xiaomi</groupId>
    <artifactId>MiPush-json-simple</artifactId>
    <version>1.1.1</version>
</dependency>


groupId å’ŒartifactIdå’Œversionéƒ½æ˜¯æˆ‘è‡ªå·±åˆ›å»ºåˆ¶å®šçš„ã€‚ å¹¶éå®˜æ–¹ç»™çš„

```
æ³¨æ„è¿™é‡ŒMiPushçš„jaråŒ…å®˜æ–¹åœ¨ä¸æ–­å‡çº§ã€‚versionè‡ªå·±å¯ä»¥æ”¹æˆæœ€æ–°çš„ï¼Œæ¯”å¦‚2.2.21
åœ¨æœ¬é¡¹ç›®é‡Œçš„MiPush_SDK_Server.jarè·¯å¾„ä¸º
[MiPush_SDK_Server_2_2_21.jar](/sdk/MiPush_Server_Java_20190420/java/sdk/MiPush_SDK_Server_2_2_21.jar)

[json-simple-1.1.1.jar](/sdk/MiPush_Server_Java_20190420/java/sdk/json-simple-1.1.1.jar)
